- sensor:
    - name: Fungus maintenance
      icon: mdi:wrench-clock-outline
      unique_id: sensor.fungus_maintenance
      state: >
        {{ 'on' if (int(states('sensor.fungus_filter_time_left', -1000)) > 7200) and
                   (int(states('sensor.fungus_main_brush_time_left', -1000)) > 7200) and
                   (int(states('sensor.fungus_side_brush_time_left', -1000)) > 7200) and
                   (int(states('sensor.fungus_sensor_time_left', -1000)) > 7200) 
                else 'off'
        }}
      attributes:
        filter: >
          {% if states('sensor.fungus_filter_time_left') in ('unknown', 'unavailable') %}
            unknown
          {% else %}
            {{ (int(states('sensor.fungus_filter_time_left')) / 3600) | round(0) }}{{"\xa0"}}h
          {% endif %}

        sensor: >
          {% if states('sensor.fungus_sensor_time_left') in ('unknown', 'unavailable') %}
            unknown
          {% else %}
            {{ (int(states('sensor.fungus_sensor_time_left')) / 3600) | round(0) }}{{"\xa0"}}h
          {% endif %}

        main_brush: >
          {% if states('sensor.fungus_main_brush_time_left') in ('unknown', 'unavailable') %}
            unknown
          {% else %}
            {{ (int(states('sensor.fungus_main_brush_time_left')) / 3600) | round(0) }}{{"\xa0"}}h
          {% endif %}

        side_brush: >
          {% if states('sensor.fungus_side_brush_time_left') in ('unknown', 'unavailable') %}
            unknown
          {% else %}
            {{ (int(states('sensor.fungus_side_brush_time_left')) / 3600) | round(0) }}{{"\xa0"}}h
          {% endif %}
